# 📘 JavaScript 객체 배열 정렬 및 필터링 전략

---

## 🧠 1. 객체 배열이란?

```javascript
const users = [
  { name: "Alice", age: 25, role: "admin" },
  { name: "Bob", age: 20, role: "user" },
  { name: "Charlie", age: 30, role: "user" }
];
```

각 엘리먼트는 객체이며, 공통 필드를 기준으로 정렬/필터링할 수 있습니다.

---

## 🔍 2. 기본 필터링 전략

### ✅ `filter()` 사용

```javascript
const admins = users.filter(user => user.role === "admin");
```

### ✅ 여러 조건 조합 (AND / OR)

```javascript
const youngAdmins = users.filter(
  user => user.age < 30 && user.role === "admin"
);
```

### ✅ 키워드 포함 (부분 검색)

```javascript
const searchResult = users.filter(
  user => user.name.toLowerCase().includes("li")
);
```

---

## 📏 3. 기본 정렬 전략

### ✅ 숫자 필드 정렬

```javascript
const byAgeAsc = [...users].sort((a, b) => a.age - b.age);
```

### ✅ 문자열 정렬 (알파벳순)

```javascript
const byNameAsc = [...users].sort((a, b) => a.name.localeCompare(b.name));
```

* `localeCompare()`는 문자열 정렬 시 언어 민감하게 처리 가능

---

## 🧪 4. 날짜 정렬 전략

```javascript
const events = [
  { title: "Meeting", date: "2024-12-31" },
  { title: "Workshop", date: "2023-01-01" }
];

const byDateAsc = [...events].sort(
  (a, b) => new Date(a.date) - new Date(b.date)
);
```

---

## 🔄 5. 다중 필드 정렬

```javascript
const users = [
  { role: "user", age: 30},
  { role: "admin", age: 29},
  { role: "user", age: 15}
]

const multiSort = [...users].sort((a, b) => {
  if (a.role === b.role) {
    return a.age - b.age;
  }
  return a.role.localeCompare(b.role);
});
```

* role이 같으면 나이로 정렬, 그렇지 않으면 role로 정렬

---

## 🧩 6. 실전: 동적 필터링 유틸리티

```javascript
const users = [
  { role: "user", age: 30},
  { role: "admin", age: 29},
  { role: "user", age: 15}
]

function filterByField(array, field, value) {
  return array.filter(item => item[field] === value);
}

const filtered = filterByField(users, "role", "user");
```

---

## 🧪 7. 정렬 방향 파라미터화

```javascript
function sortByField(field, direction = "asc") {
  return function (a, b) {
    if (typeof a[field] === "string") {
      return direction === "asc"
        ? a[field].localeCompare(b[field])
        : b[field].localeCompare(a[field]);
    }
    return direction === "asc" ? a[field] - b[field] : b[field] - a[field];
  };
}

const sortedUsers = [...users].sort(sortByField("age", "desc"));
```

---

## 🛠️ 8. 복잡한 예제: 사용자 이름에 “e” 포함 & 나이순 정렬

```javascript
const result = users
  .filter(user => user.name.toLowerCase().includes("e"))
  .sort((a, b) => a.age - b.age);
```

---

## 🧠 9. 주의사항

| 이슈                           | 설명                   |
| ---------------------------- | -------------------- |
| `sort()`는 원본 배열 변경           | 항상 `[...]`으로 복사 후 정렬 |
| 문자열 비교는 `localeCompare()` 사용 | 유니코드 기반 정렬 정확도 높임    |
| 날짜 정렬 시 `new Date()` 명시      | 문자열로 비교하면 오류 가능성     |



