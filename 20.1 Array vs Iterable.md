
# 📘 JavaScript 배열 vs 이터러블(Iterable) 비교

---

## ✅ 1. 개념 정의

| 항목   | 배열 (Array)               | 이터러블 (Iterable)                                |
| ---- | ------------------------ | ---------------------------------------------- |
| 정의   | 정렬된 엘리먼트 집합이며 내장 객체        | 반복 가능한 값의 집합 (배열, 문자열, Map, Set 등 포함하는 **개념**) |
| 자료구조 | 고정된 순서를 가진 인덱스 기반의 리스트   | 반복 프로토콜을 구현한 객체                                |
| 타입   | 객체(Object)지만 특별한 메서드를 내장 | `[Symbol.iterator]()` 메서드가 존재하는 객체             |

---

## 🧪 2. 배열은 이터러블이다

```javascript
const arr = [1, 2, 3];
console.log(typeof arr[Symbol.iterator]); // function
```

* 즉, 배열은 `Iterable` 프로토콜을 **구현한 객체**다.
* `for...of`, 스프레드 연산자 등에 바로 사용할 수 있음.

---

## 🧪 3. 이터러블의 조건

이터러블은 다음 조건을 만족해야 함:

```javascript
typeof obj[Symbol.iterator] === 'function'
```

예시:

```javascript
const str = "hello";
const set = new Set([1, 2, 3]);

console.log(str[Symbol.iterator]); // function
console.log(set[Symbol.iterator]); // function
```

---

## 🔁 4. 반복 가능: `for...of`, 스프레드, 구조분해 가능

```javascript
for (const char of "abc") {
  console.log(char);  // 'a', 'b', 'c'
}

const newArr = [...new Set([1, 2, 2, 3])]; // [1, 2, 3]
```

배열과 이터러블 모두:

* `for...of` 루프 사용 가능
* `[...iterable]`로 배열로 변환 가능
* 구조 분해 할당도 가능

---

## 🧪 5. 이터레이터 직접 사용

```javascript
const arr = [10, 20, 30];
const iterator = arr[Symbol.iterator]();

console.log(iterator.next()); // { value: 10, done: false }
console.log(iterator.next()); // { value: 20, done: false }
console.log(iterator.next()); // { value: 30, done: false }
console.log(iterator.next()); // { value: undefined, done: true }
```

* 이터러블은 내부적으로 `next()` 메서드를 가진 이터레이터(iterator)를 반환한다.
* `.next()`는 `{ value, done }` 형태의 객체를 리턴.

---

## 🧵 6. 배열과 이터러블의 차이 요약

| 구분                     | 배열 | 일반 이터러블 (`Set`, `Map`, 문자열 등) |
| ---------------------- | -- | ----------------------------- |
| 인덱스 접근                 | O  | ❌ (인덱스로 접근 불가)                |
| length 속성              | O  | ❌                             |
| 메서드 (push, pop, map 등) | O  | ❌                             |
| forEach 사용 가능          | O  | 일부 (Set, Map O / 문자열 ❌)       |
| `for...of` 사용          | O  | O                             |
| 스프레드 가능                | O  | O                             |

---

## ⚠️ 7. 배열 전용 메서드 vs 일반 이터러블

```javascript
const set = new Set([1, 2, 3]);
const result = [...set].map(n => n * 2); // [2, 4, 6]
```

* `Set`은 `map()`이 없음 → 배열로 변환해서 사용
* `Array.from(set)`도 가능

---

## ✨ 8. 사용자 정의 이터러블 만들기

```javascript
const customIterable = {
  *[Symbol.iterator]() {
    yield 1;
    yield 2;
    yield 3;
  }
};

for (const num of customIterable) {
  console.log(num); // 1, 2, 3
}
```

* 제너레이터 함수 (`*`)를 사용하여 쉽게 이터러블을 정의 가능

---

## 🎓 9. 요약

| 사용 목적                | 배열 사용                         | 이터러블 사용        |
| -------------------- | ----------------------------- | -------------- |
| 데이터 컬렉션, 조작          | ✅ (`map`, `filter`, `reduce`) | ❌ 직접 변환 필요     |
| 순회만 필요할 때 (간단한 반복)   | ✅                             | ✅              |
| Set/Map 등 유니크/키-값 처리 | ❌                             | ✅              |
| 유연한 순회 처리            | ❌                             | ✅ (제너레이터 등 응용) |

---

## 📌 결론

* **배열은 이터러블의 하위 개념이다.**
* **이터러블은 반복 가능한 모든 객체를 포함하는 추상적 개념**이다.
* **이터러블 → 배열 변환 필요 시** `Array.from(iterable)` 또는 `[...iterable]` 활용

