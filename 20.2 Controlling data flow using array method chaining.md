# 📘 JavaScript 배열 메서드 체이닝으로 데이터 흐름 제어하기

---

## 🧠 1. 메서드 체이닝이란?

> 메서드 체이닝(Method Chaining)은 객체가 여러 메서드를 **연속적으로 호출할 수 있도록 리턴값을 다시 객체로 돌려주는 패턴**입니다.

자바스크립트에서 배열 메서드는 대부분 새로운 배열을 리턴하므로 연속 호출(체이닝)이 가능합니다.

---

## 🔁 2. 주요 체이닝 가능 배열 메서드

| 메서드         | 설명                    |
| ----------- | --------------------- |
| `filter()`  | 조건에 맞는 요소만 필터링        |
| `map()`     | 요소 변형                 |
| `reduce()`  | 누적 결과 도출              |
| `sort()`    | 정렬                    |
| `slice()`   | 부분 추출                 |
| `reverse()` | 순서 반전                 |
| `forEach()` | 반복 수행 (리턴값 없음, 체이닝 X) |

---

## 🧪 3. 실전 예제: 학생 목록 가공

```javascript
const students = [
  { name: "Alice", score: 88 },
  { name: "Bob", score: 62 },
  { name: "Charlie", score: 95 },
  { name: "David", score: 74 }
];

const result = students
  .filter(student => student.score >= 70) // 70점 이상만
  .sort((a, b) => b.score - a.score)     // 점수순 내림차순
  .map(student => student.name);         // 이름만 추출

console.log(result); // ['Charlie', 'Alice', 'David']
```

---

## 📊 4. 체이닝 흐름 시각화

```
[students] 
   ↓ filter(score >= 70)
[ Alice, Charlie, David ]
   ↓ sort(desc)
[ Charlie, Alice, David ]
   ↓ map(name)
[ 'Charlie', 'Alice', 'David' ]
```

---

## 🧪 5. 예제: 문자열을 숫자로 변환하여 평균 구하기

```javascript
const scores = ["90", "85", "70", "88"];

const average = scores
  .map(Number)
  .filter(n => n >= 80)
  .reduce((acc, cur, _, arr) => acc + cur / arr.length, 0);

console.log(average); // 평균 점수: (90 + 85 + 88) / 3 = 87.67
```

---

## 🧪 6. 예제: 중복 제거 및 정렬

```javascript
const nums = [3, 2, 5, 3, 7, 5, 1, 9];

const processed = [...new Set(nums)] // 중복 제거
  .filter(n => n % 2 === 1)          // 홀수만
  .sort((a, b) => a - b);            // 오름차순

console.log(processed); // [1, 3, 5, 7, 9]
```

---

## 🧪 7. 예제: 문자열 배열에서 특정 키워드 포함 필터

```javascript
const keywords = [
  "javascript beginner",
  "python advanced",
  "javascript expert",
  "golang intermediate"
];

const jsOnly = keywords
  .filter(title => title.includes("javascript"))
  .map(title => title.toUpperCase());

console.log(jsOnly);
// ['JAVASCRIPT BEGINNER', 'JAVASCRIPT EXPERT']
```

---

## 🧠 8. 주의점

* `forEach()`는 `undefined`를 반환하므로 체이닝 불가능
* `map()`, `filter()` 등은 **원본 배열을 변경하지 않음**
* `sort()`, `reverse()`는 **원본을 변경함** → 복사본에서 사용 권장

```javascript
const arr = [3, 1, 2];
const sorted = [...arr].sort(); // 원본 변경 안됨
```

---

## 🧩 9. 리팩토링 전후 비교

```javascript
// ❌ 나쁜 예 (명령형)
const numbers = [1, 2, 3, 4, 5];
let doubled = [];
for (let i = 0; i < numbers.length; i++) {
  if (numbers[i] % 2 === 0) {
    doubled.push(numbers[i] * 2);
  }
}

// ✅ 좋은 예 (선언형)
const doubledClean = numbers
  .filter(n => n % 2 === 0)
  .map(n => n * 2);
```

---

## 🎯 10. 결론

* 배열 메서드 체이닝은 **함수형 사고**를 가능하게 하며, **읽기 쉬운 코드**로 가공 흐름을 표현할 수 있음
* 가독성, 디버깅, 유지보수에 매우 유리
* `filter → map → reduce`는 매우 흔한 조합




