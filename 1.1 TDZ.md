# ✅ TDZ(Temporal Dead Zone)란?

**TDZ(일시적 사각지대)** 란,
`let`, `const`로 선언된 변수가 스코프에 **등록은 되어 있지만 아직 초기화되기 전까지의 구간**을 말합니다.
> 변수가 스코프에는 존재하지만 아직 초기화되지 않아 사용할 수 없는 구간

이 구간에서는 그 변수에 **접근(읽기/쓰기)** 하려 하면 무조건 **ReferenceError**가 발생합니다.

---

# 🔥 핵심 정의 (아주 간단히)

> **TDZ = 변수가 존재는 하지만 아직 사용할 수 없는 위험한 구간**

* 스코프에 “이름만” 올라와 있음 (호이스팅 OK)
* 하지만 아직 **초기화 초기 값이 설정되지 않음**
* 이 상태에서 접근하면 → **ReferenceError**

---

# ✅ TDZ가 생기는 이유 (중요!)

자바스크립트는 코드 실행 전에 **스코프(환경)를 미리 구성**합니다.

이때:

### ✔ `var`

* “선언 + 초기화(undefined)”를 동시에 해버림 → TDZ 없음

### ✔ `let`, `const`

* “선언만 먼저 스코프에 등록”
* 초기화는 선언문 위치에 도달해야 가능
* 선언문 도달 전까지의 구간이 **TDZ**

그래서 아래 코드는 터집니다.

```js
console.log(x); // ❌ ReferenceError (TDZ)
let x = 10;
```

---

# 🔍 TDZ 흐름을 그림으로 설명

코드:

```js
{
  console.log(a); // ❌ TDZ → ReferenceError
  let a = 10;
}
```

### 실행 단계 분석

| 단계                  | 상태                      |
| ------------------- | ----------------------- |
| 블록 스코프 생성           | `a`는 스코프에 등록됨 (호이스팅)    |
| 초기화 X               | 변수는 존재하지만 아직 값 없음       |
| `console.log(a)` 실행 | TDZ 상태 → ReferenceError |
| `let a=10;`에 도달     | 여기서 **초기화 + 값 할당**      |

---

# 🔥 TDZ가 왜 필요한가?

### ✔ 변수 사용의 안정성을 높이기 위해

아래와 같은 버그를 방지합니다.

```js
console.log(val); // undefined? or 에러?
var val = 5;
```

`var`일 때는 의도치 않게 `undefined`가 출력되어 **버그를 숨기게 됨**

하지만 `let`, `const`는 TDZ가 있으므로:

```js
console.log(val); 
let val = 5;
```

바로 **ReferenceError**가 발생하여
“선언 전에 변수 쓰면 안 돼!”
라고 명확하게 알려줍니다.

---

# 🔥 TDZ와 함수 파라미터에서도 나타난다

TDZ는 단순히 `let`, `const`뿐 아니라,
**default parameter 내부에서도 발생합니다.**

```js
function test(a = b, b = 2) {
  console.log(a, b);
}

test(); // ❌ ReferenceError: Cannot access 'b' before initialization
```

`a = b`를 평가하는 시점에
`b`는 아직 초기화되지 않은 상태 → TDZ → 에러

---

# 🧠 쉽게 기억하는 TDZ 개념 요약

| 상태          | 설명                  | 결과               |
| ----------- | ------------------- | ---------------- |
| 선언 O, 초기화 전 | let/const가 이 상태     | ❌ ReferenceError |
| 선언 O, 초기화 O | let/const 선언문에 도달   | 정상 사용 가능         |
| 선언 X        | 변수 자체 없음            | ❌ ReferenceError |
| var 초기화 전   | 선언 + undefined로 초기화 | undefined 출력     |

---

# 🎯 TDZ가 적용되는 문법

| 문법                | TDZ 적용 여부 |
| ----------------- | --------- |
| var               | ❌ 없음      |
| let               | ✔ 존재      |
| const             | ✔ 존재      |
| class             | ✔ 존재      |
| 함수 선언문            | ❌ 없음      |
| 함수 표현식(let/const) | ✔ TDZ 적용  |

---

# 🔥 최종 요약

> **TDZ(Temporal Dead Zone)는 let/const 변수가 스코프에 등록된 후, 실제 초기화되는 지점까지 접근할 수 없는 구간이다.**
> 이 구간에서 접근하면 무조건 ReferenceError가 발생한다.

